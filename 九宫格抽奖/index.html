<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="apple-mobile-web-app-capable" content="yes">
<style type="text/css">
	.qimo8{ overflow:hidden;}
	.qimo8 .qimo {/*width:99999999px;*/width:8000%;}
	.qimo8 .qimo div{ float:left;}
	.qimo8 .qimo ul{float:left;overflow:hidden; zoom:1; }
	.qimo8 .qimo ul li{float:left; list-style:none; font-size: 24px;margin: 0 1rem;}
</style>
<link rel="stylesheet" type="text/css" href="css/styleCJ.css"/>
<script src="./common.js"></script>
</head>
<body>
<!-- 代码 开始 -->
<div class="shanDeng" id="deng">
	<div id="luck"><!-- luck -->
		<table style="border-spacing:.08rem .03rem;">
			<tr>
				<td class="luck-unit luck-unit-0 active"><img src="./img/01.png"></td>
				<td class="luck-unit luck-unit-1"><img src="./img/02.png"></td>
				<td class="luck-unit luck-unit-2"><img src="./img/03.png"></td>
			</tr>
			<tr>
				<td class="luck-unit luck-unit-7"><img src="./img/05.png"></td>
				<td class="cjBtn" id="btn"></td>
				<td class="luck-unit luck-unit-3"><img src="./img/01.png"></td>
			</tr>
			<tr>
				<td class="luck-unit luck-unit-6"><img src="./img/02.png"></td>
				<td class="luck-unit luck-unit-5"><img src="./img/04.png"></td>
				<td class="luck-unit luck-unit-4"><img src="./img/03.png"></td>
			</tr>
		</table>
	</div><!-- luckEnd -->
</div>
<script src="./roll.js"></script>
<script>
	var roll = new Roll({
		class: 'luck-unit-',
		active: 'active'
	});
	var btn = document.getElementById('btn');
	var flag = true;

	btn.addEventListener('click', function() {
		if(!flag) return;
		roll.start(); //开始滚动
		flag = false;

		var prize = parseInt(Math.random()*7);
		console.log(prize)
		setTimeout(function() {
			roll.stop(prize, function() {  //停止滚动，第一个参数为获奖结果（1-7）顺时针对应每个奖品；第二个参数为动画停止后的回调函数；
				flag = true;
				console.log(prize+'等奖');
			})
		}, 100)
	})
</script>
</body>
</html>